(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{Yj9t:function(t,e,o){"use strict";o.r(e),o.d(e,"AuthModule",function(){return f});var i=o("tyNb"),n=o("PCNd"),r=o("3Pt+"),a=o("fXoL"),l=o("7dP1"),c=o("kmnG"),m=o("qFsG"),d=o("bTqV"),p=o("NFeN");let b=(()=>{class t{constructor(t,e,o){this.co=t,this.authService=e,this.router=o,this.hide=!0,this.profileCoForm=this.co.group({email:new r.c("",[r.m.required,r.m.email]),mdp:["",r.m.required]})}ngOnInit(){}onSubmit(){var t,e;this.profileCoForm.markAllAsTouched(),this.profileCoForm.valid?this.authService.signIn(null===(t=this.profileCoForm.get("email"))||void 0===t?void 0:t.value,null===(e=this.profileCoForm.get("mdp"))||void 0===e?void 0:e.value):window.alert("Formulaire invalide !")}canActivate(){return!0}}return t.\u0275fac=function(e){return new(e||t)(a.Ob(r.b),a.Ob(l.a),a.Ob(i.a))},t.\u0275cmp=a.Ib({type:t,selectors:[["app-connexion"]],decls:16,vars:5,consts:[[3,"formGroup"],[1,"email"],["matInput","","placeholder","Ex. pat@gmail.com","formControlName","email"],["appearance","fill"],["matInput","","formControlName","mdp",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],["mat-flat-button","","type","submit","color","primary",1,"ok",3,"click"]],template:function(t,e){1&t&&(a.Ub(0,"form",0),a.Ub(1,"h1"),a.wc(2,"Connexion au compte"),a.Tb(),a.Ub(3,"mat-form-field",1),a.Ub(4,"mat-label"),a.wc(5,"Adresse mail"),a.Tb(),a.Pb(6,"textarea",2),a.Tb(),a.Ub(7,"mat-form-field",3),a.Ub(8,"mat-label"),a.wc(9,"Mot de passe"),a.Tb(),a.Pb(10,"input",4),a.Ub(11,"button",5),a.bc("click",function(){return e.hide=!e.hide}),a.Ub(12,"mat-icon"),a.wc(13),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Ub(14,"button",6),a.bc("click",function(){return e.onSubmit()}),a.wc(15,"Valider"),a.Tb()),2&t&&(a.kc("formGroup",e.profileCoForm),a.Db(10),a.kc("type",e.hide?"password":"text"),a.Db(1),a.Eb("aria-label","Hide password")("aria-pressed",e.hide),a.Db(2),a.xc(e.hide?"visibility_off":"visibility"))},directives:[r.n,r.j,r.e,c.b,c.e,m.a,r.a,r.i,r.d,d.b,c.f,p.a],styles:["button[_ngcontent-%COMP%], h1[_ngcontent-%COMP%]{display:block;margin:0 auto;text-align:center}h1[_ngcontent-%COMP%]{font-weight:700;text-decoration:underline;text-decoration:blink;margin-bottom:25px}.ok[_ngcontent-%COMP%]{display:block;font-size:14px;margin:30px auto 0;min-width:120px}.mat-form-field[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:15px 0;width:100%}"]}),t.\u0275prov=a.Kb({token:t,factory:t.\u0275fac}),t})();var s=o("I/3d");const u=[{path:"connexion-component",component:b},{path:"create-component",component:(()=>{class t{constructor(t,e,o){this.cr=t,this.firestore=e,this.authService=o,this.hide=!0,this.profileForm=this.cr.group({pseudo:["",r.m.required],email:["",[r.m.required,r.m.email]],mdp:["",r.m.required]})}ngOnInit(){}onSubmit(){var t,e,o,i,n;if(this.profileForm.markAllAsTouched(),this.profileForm.valid){let r={email:null===(t=this.profileForm.get("email"))||void 0===t?void 0:t.value,pseudo:null===(e=this.profileForm.get("pseudo"))||void 0===e?void 0:e.value,points:0};this.firestore.collection("users").add(r).then(()=>{window.alert("Votre compte a bien \xe9t\xe9 cr\xe9\xe9 !")}).catch(t=>{window.alert("Erreur lors de la cr\xe9ation du compte.")}),this.authService.signUp(null===(o=this.profileForm.get("pseudo"))||void 0===o?void 0:o.value,null===(i=this.profileForm.get("email"))||void 0===i?void 0:i.value,null===(n=this.profileForm.get("mdp"))||void 0===n?void 0:n.value)}else window.alert("Formulaire d'inscription invalide !")}}return t.\u0275fac=function(e){return new(e||t)(a.Ob(r.b),a.Ob(s.a),a.Ob(l.a))},t.\u0275cmp=a.Ib({type:t,selectors:[["app-create"]],decls:20,vars:5,consts:[[3,"formGroup"],[1,"pseudo"],["matInput","","formControlName","pseudo"],[1,"email"],["matInput","","placeholder","Ex. pat@gmail.com","formControlName","email"],["appearance","fill"],["matInput","","formControlName","mdp",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],["mat-flat-button","","type","submit","color","primary",1,"ok",3,"click"]],template:function(t,e){1&t&&(a.Ub(0,"form",0),a.Ub(1,"h1"),a.wc(2,"Cr\xe9ation du compte"),a.Tb(),a.Ub(3,"mat-form-field",1),a.Ub(4,"mat-label"),a.wc(5,"Pseudo"),a.Tb(),a.Pb(6,"textarea",2),a.Tb(),a.Ub(7,"mat-form-field",3),a.Ub(8,"mat-label"),a.wc(9,"Adresse mail"),a.Tb(),a.Pb(10,"textarea",4),a.Tb(),a.Ub(11,"mat-form-field",5),a.Ub(12,"mat-label"),a.wc(13,"Mot de passe"),a.Tb(),a.Pb(14,"input",6),a.Ub(15,"button",7),a.bc("click",function(){return e.hide=!e.hide}),a.Ub(16,"mat-icon"),a.wc(17),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Ub(18,"button",8),a.bc("click",function(){return e.onSubmit()}),a.wc(19,"Valider"),a.Tb()),2&t&&(a.kc("formGroup",e.profileForm),a.Db(14),a.kc("type",e.hide?"password":"text"),a.Db(1),a.Eb("aria-label","Hide password")("aria-pressed",e.hide),a.Db(2),a.xc(e.hide?"visibility_off":"visibility"))},directives:[r.n,r.j,r.e,c.b,c.e,m.a,r.a,r.i,r.d,d.b,c.f,p.a],styles:["button[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{display:block;margin:0 auto;text-align:center}h1[_ngcontent-%COMP%]{font-weight:700;text-decoration:underline;text-decoration:blink;margin-bottom:25px}.ok[_ngcontent-%COMP%]{display:block;font-size:14px;margin:30px auto 0;min-width:120px}.mat-form-field[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:15px 0;width:100%}"]}),t.\u0275prov=a.Kb({token:t,factory:t.\u0275fac}),t})()},{redirectTo:"create-component",path:""}];let f=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.Mb({type:t}),t.\u0275inj=a.Lb({imports:[[n.a,i.d.forChild(u)]]}),t})()}}]);